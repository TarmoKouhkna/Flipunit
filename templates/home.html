{% extends 'base.html' %}
{% load static %}

{% block title %}Home - {{ SITE_NAME }}{% endblock %}
{% block meta_description %}Free online converters - Unit converters, image converters, media converters, and utilities. Fast, simple, no-login required tools for everyday use.{% endblock %}
{% block og_title %}{{ SITE_NAME }} - Free Online Converter Hub{% endblock %}
{% block og_description %}{{ SITE_DESCRIPTION }}{% endblock %}

{% block extra_css %}
<style>
/* Remove container-medium padding since we have our own layout */
.main-content .container-medium {
    padding: 0;
    max-width: 100%;
}

/* Ensure search bar has proper spacing */
.hybrid-search-container {
    margin-top: 3rem !important;
    padding-top: 1rem !important;
}

/* Wireframe Comment:
 * 
 * Layout Structure:
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚  Glassmorphic Header (sticky)       â”‚
 * â”‚  [Logo] [Dark Mode Toggle]          â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚  Glassmorphic Search Bar            â”‚
 * â”‚  [Search Input] [Search Button]     â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚  Hero Section (Glass Card)          â”‚
 * â”‚  Welcome to FlipUnit                â”‚
 * â”‚  Tagline                             â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚  Categories Grid (Neumorphic Cards) â”‚
 * â”‚  [Card] [Card] [Card] [Card]        â”‚
 * â”‚  [Card] [Card] [Card] [Card]        â”‚
 * â”‚  [Card] [Card] [Card] [Card]        â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚  Footer (Glassmorphic)              â”‚
 * â”‚  Copyright & Links                   â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * Floating: [Feedback Button] (bottom-right)
 * Modal: [Feedback Form] (overlay)
 */
</style>
{% endblock %}

{% block content %}
<main id="main-content">
    <!-- Hero Section -->
    <section class="hybrid-hero">
        <div class="hybrid-hero-card">
            <h1>Welcome to {{ SITE_NAME }}</h1>
            <p>Simple, fast, no-login required online converter hub</p>
        </div>
    </section>

    <!-- Glassmorphic Search Bar -->
    <div class="hybrid-search-container">
        <form method="get" action="{% url 'search' %}" class="hybrid-search-form" role="search">
            <input 
                type="search" 
                name="q" 
                id="hybrid-search-input" 
                class="hybrid-search-input" 
                placeholder="Search across all 12 categories and 100+ tools..." 
                value="{{ request.GET.q|default:'' }}"
                aria-label="Search tools and converters"
                autocomplete="off"
            >
            <button type="submit" class="hybrid-search-btn" aria-label="Search">
                Search
            </button>
        </form>
    </div>

    <!-- Categories Grid -->
    <section class="hybrid-categories" aria-label="Tool categories">
        <div class="hybrid-categories-grid">
            {% for category in categories %}
            <a href="{% url category.url %}" class="hybrid-category-card" aria-label="{{ category.name }}">
                <div class="hybrid-category-icon">
                    {% with 'images/icons/'|add:category.icon as icon_path %}
                    <img src="{% static icon_path %}" alt="{{ category.name }} icon" loading="lazy">
                    {% endwith %}
                </div>
                <h3>{{ category.name }}</h3>
                <p>{{ category.description }}</p>
            </a>
            {% endfor %}
        </div>
    </section>

    <!-- AI Chat CTA Section -->
    <section class="hybrid-ai-cta" aria-label="AI Chat invitation">
        <div class="hybrid-ai-cta-card">
            <h2>Missing the conversion you need?</h2>
            <p>Chat with our AI to find the right tool or get help with your conversion needs.</p>
            <a href="{% url 'ai_chat:index' %}" class="hybrid-ai-cta-button">
                <span>Chat with AI</span>
            </a>
        </div>
    </section>
</main>

<!-- Floating Feedback Button -->
<button 
    class="hybrid-feedback-btn" 
    id="hybrid-feedback-btn" 
    aria-label="Open feedback form"
    title="Send Feedback"
>
    ğŸ’¬
</button>

<!-- Feedback Modal -->
<div class="hybrid-modal-overlay" id="hybrid-modal-overlay" role="dialog" aria-labelledby="feedback-modal-title" aria-modal="true">
    <div class="hybrid-modal">
        <button 
            class="hybrid-modal-close" 
            id="hybrid-modal-close" 
            aria-label="Close feedback modal"
        >
            Ã—
        </button>
        <h2 id="feedback-modal-title">Send Feedback</h2>
        <form method="post" class="hybrid-feedback-form" id="hybrid-feedback-form">
            {% csrf_token %}
            <textarea 
                name="feedback" 
                id="hybrid-feedback-textarea" 
                placeholder="Your feedback helps us improve FlipUnit. Share your thoughts, suggestions, or report issues..."
                rows="6" 
                maxlength="1000" 
                required
                aria-label="Feedback text"
                aria-describedby="char-count-desc"
            ></textarea>
            <div class="hybrid-feedback-footer">
                <span class="hybrid-char-count" id="hybrid-char-count">
                    <span id="char-count">0</span>/1000
                </span>
                <span id="char-count-desc" class="sr-only">Character count</span>
                <button type="submit" class="hybrid-feedback-submit">Send Feedback</button>
            </div>
        </form>
    </div>
</div>

<!-- Footer -->
{% endblock %}
