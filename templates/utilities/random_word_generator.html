{% extends 'base.html' %}

{% block title %}Random Word Generator - {{ SITE_NAME }}{% endblock %}
{% block meta_description %}Generate random words from a dictionary. Create random words with options for length and starting letter filters.{% endblock %}

{% block extra_css %}
<style>
/* Custom scrollbar for words container */
.words-scroll-container {
    scrollbar-width: thin;
    scrollbar-color: var(--primary-accent) var(--surface);
}

.words-scroll-container::-webkit-scrollbar {
    width: 10px;
}

.words-scroll-container::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
    border-radius: 4px;
}

.words-scroll-container::-webkit-scrollbar-thumb {
    background: var(--primary-accent);
    border-radius: 4px;
}

.words-scroll-container::-webkit-scrollbar-thumb:hover {
    background: var(--secondary-accent);
}

@media (max-width: 767px) {
    .words-scroll-container {
        max-height: 300px !important;
        font-size: 1rem !important;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="card">
    <h1 class="card-title">Random Word Generator</h1>
    <p style="color: var(--text-secondary); margin-bottom: 2rem;">Generate random words from a dictionary with customizable filters</p>
    
    {% if error %}
        <div class="alert alert-error">
            {{ error }}
        </div>
    {% endif %}
    
    {% if result %}
        <div class="alert alert-success" style="margin-bottom: 2rem;">
            <h3 style="margin-bottom: 0.5rem;">Generated Words:</h3>
            <div class="words-scroll-container" style="font-size: 1.2rem; font-family: monospace; word-break: break-all; max-height: 400px; overflow-y: scroll; overflow-x: hidden; background: var(--surface); padding: 1rem; border-radius: 8px;">
                {% for word in result.words %}
                    <span style="display: inline-block; margin: 0.25rem; padding: 0.5rem 1rem; background: var(--card-bg); border-radius: 4px; border: 1px solid var(--border-color);">{{ word }}</span>
                {% endfor %}
            </div>
            <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                <p><strong>Count:</strong> {{ result.count }} word{{ result.count|pluralize }}</p>
                {% if result.note %}
                    <p style="color: var(--text-secondary);"><em>{{ result.note }}</em></p>
                {% endif %}
            </div>
            <button onclick="copyToClipboard()" class="btn btn-secondary" style="margin-top: 1rem;">Copy Words to Clipboard</button>
        </div>
    {% endif %}
    
    <form method="post" class="converter-tool">
        {% csrf_token %}
        <div class="form-group">
            <label class="form-label">Number of Words</label>
            <input type="number" name="count" id="count" class="form-control" value="5" min="1" max="1000" required>
            <small style="color: var(--text-secondary); margin-top: 0.5rem; display: block;">
                Maximum 1000 words (duplicates allowed)
            </small>
        </div>
        
        <div class="form-group">
            <label class="form-label">Minimum Word Length (optional)</label>
            <input type="number" name="min_length" id="min_length" class="form-control" value="" min="1" placeholder="e.g., 4">
            <small style="color: var(--text-secondary); margin-top: 0.5rem; display: block;">
                Filter words by minimum number of characters
            </small>
        </div>
        
        <div class="form-group">
            <label class="form-label">Maximum Word Length (optional)</label>
            <input type="number" name="max_length" id="max_length" class="form-control" value="" min="1" placeholder="e.g., 8">
            <small style="color: var(--text-secondary); margin-top: 0.5rem; display: block;">
                Filter words by maximum number of characters
            </small>
        </div>
        
        <div class="form-group">
            <label class="form-label">Starts With Letter (optional)</label>
            <input type="text" name="starts_with" id="starts_with" class="form-control" value="" maxlength="1" placeholder="e.g., a">
            <small style="color: var(--text-secondary); margin-top: 0.5rem; display: block;">
                Filter words that start with a specific letter
            </small>
        </div>
        
        <button type="submit" class="btn btn-primary btn-block">Generate Words</button>
    </form>
    
    <div style="margin-top: 2rem; padding: 1rem; background: var(--surface); border-radius: 6px;">
        <h3>How to use:</h3>
        <ol class="list-indent" style="margin-top: 0.5rem;">
            <li>Specify how many random words you want to generate</li>
            <li>Optionally set minimum and/or maximum word length</li>
            <li>Optionally specify a starting letter</li>
            <li>Click "Generate Words"</li>
        </ol>
        <p style="margin-top: 1rem; color: var(--text-secondary);">
            <strong>Note:</strong> The generator uses a dictionary of common English words. Duplicates are allowed - the same word may appear multiple times in your results.
        </p>
    </div>
</div>

<a href="{% url 'utilities:index' %}" class="btn btn-secondary">‚Üê Back to Utilities</a>

{% block extra_js %}
<script>
async function copyToClipboard() {
    const words = [];
    document.querySelectorAll('.words-scroll-container span').forEach(function(el) {
        words.push(el.textContent.trim());
    });
    const text = words.join('\n');
    
    try {
        await navigator.clipboard.writeText(text);
        // Successfully copied - no popup needed
    } catch (err) {
        // Fallback: Create a temporary textarea
        const tempTextarea = document.createElement('textarea');
        tempTextarea.value = text;
        tempTextarea.style.position = 'fixed';
        tempTextarea.style.left = '-9999px';
        document.body.appendChild(tempTextarea);
        tempTextarea.select();
        
        try {
            document.execCommand('copy');
        } catch (err2) {
            console.error('Failed to copy:', err2);
        }
        
        document.body.removeChild(tempTextarea);
    }
}
</script>
{% endblock %}
{% endblock %}





